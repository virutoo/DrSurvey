const express=require("express");const bodyParser=require("body-parser");const mongoose=require("mongoose");const app=express();app.use(bodyParser.urlencoded({extended:!0}));mongoose.set('strictQuery',!0);mongoose.connect("mongodb+srv://ram:root@cluster0.z2bu65x.mongodb.net/dataDB");app.use(express.static("public"));const dataSchema={mostCommonWay:String,poisonTime:String,morphine500MgEnough:String,morphineLocation:String,wristCutTime:String,gunPain:String,runHeartAttack:String,painlessWay:String};const Data=new mongoose.model("Data",dataSchema);app.get("/",function(req,res){res.sendFile(__dirname+"/index.html")});app.post("/thanks",function(req,res){const data=new Data({mostCommonWay:req.body.commonWay,poisonTime:req.body.poisonTime,morphine500MgEnough:req.body.morphine500,morphineLocation:req.body.morphineLoc,wristCutTime:req.body.wristTime,gunPain:req.body.gun,runHeartAttack:req.body.run,painlessWay:req.body.painlessWay});data.save(function(err){if(err){console.log(err)}else{res.sendFile(__dirname+"/thanks.html")}})});app.listen(process.env.PORT||3000,function(){console.log("server is running at port 3000")})